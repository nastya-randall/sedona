"use strict";!function(){var videoSlider=document.querySelector(".video__range-slider");document.querySelector(".video__button--replay").addEventListener("click",function(){videoSlider.value=0});for(var likesCol=document.querySelectorAll(".gallery__likes"),i=0;i<likesCol.length;i++){var icon=likesCol[i].querySelector(".gallery__likes-icon");icon.addEventListener("click",function(evt){evt.preventDefault();for(var node,likesNumber,target=evt.target;target!=icon;){if("svg"==target.tagName){likesNumber=void 0,likesNumber=(node=target).parentNode.querySelector(".gallery__likes-number"),node.classList.contains("gallery__likes-icon--active")?(node.classList.remove("gallery__likes-icon--active"),likesNumber.innerHTML=parseInt(likesNumber.innerHTML,10)-1):(node.classList.add("gallery__likes-icon--active"),likesNumber.innerHTML=1+parseInt(likesNumber.innerHTML,10));break}target=target.parentNode}})}}(),function(){var popup=document.querySelector(".popup");console.log(popup);var popupContainer=popup.querySelector(".popup__container"),gallery=document.querySelector(".gallery__list");console.log(gallery);var currentIndex,currentItem,next=popup.querySelector(".popup__next"),prev=popup.querySelector(".popup__prev"),galleryItems=gallery.querySelectorAll(".gallery__item"),updateItem=function(index){currentItem=galleryItems[index].cloneNode(!0),popupContainer.appendChild(currentItem),console.log(currentItem),popup.querySelector(".gallery__item").classList.add("popup__gallery-item"),popup.querySelector(".gallery__item-wrapper").classList.add("popup__item-wrapper"),popup.querySelector(".gallery__item-author").classList.add("popup__item-author"),popup.querySelector(".gallery__likes-icon").classList.add("popup__likes-icon");var image=popup.querySelector("img"),item=popup.querySelector("li"),imageName=image.dataset.filename;if(console.log(imageName),image.currentSrc.includes("webp")){item.removeChild(item.querySelector("picture"));var newImage=document.createElement("img");newImage.src="img/photo-"+imageName,window.matchMedia("(min-width: 1200px)").matches?newImage.src=0!=index?newImage.src+"-desktop@2x.webp":newImage.src+"-tablet@2x.webp":window.matchMedia("(min-width: 768px)").matches?newImage.src=newImage.src+"-tablet@2x.webp":newImage.src=newImage.src+"-mobile@2x.webp",item.insertBefore(newImage,item.firstChild)}image.src=image.src.replace("1x","2x"),newImage.classList.add("popup__item-image"),console.log(newImage)};gallery.addEventListener("click",function(evt){var target=evt.target;console.log(target.id),"IMG"==target.tagName&&(popup.classList.add("popup--show"),currentIndex=parseInt(target.id,10),updateItem(currentIndex))}),next.addEventListener("click",function(){currentIndex<galleryItems.length-1&&(popupContainer.innerHTML="",currentIndex+=1,console.log(currentIndex),updateItem(currentIndex))}),prev.addEventListener("click",function(){0<currentIndex&&(popupContainer.innerHTML="",currentIndex-=1,console.log(currentIndex),updateItem(currentIndex))})}();